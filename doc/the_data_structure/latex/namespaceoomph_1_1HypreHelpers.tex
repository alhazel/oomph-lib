\hypertarget{namespaceoomph_1_1HypreHelpers}{}\doxysection{oomph\+::Hypre\+Helpers Namespace Reference}
\label{namespaceoomph_1_1HypreHelpers}\index{oomph::HypreHelpers@{oomph::HypreHelpers}}


/////////////////////////////////////////////////////////////////////  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_a65765f3019c585e17822f30423b52096}{check\+\_\+\+HYPRE\+\_\+error\+\_\+flag}} (std\+::ostringstream \&message)
\begin{DoxyCompactList}\small\item\em Helper function to check the Hypre error flag, return the message associated with any error, and reset the global error flag to zero. This function also returns the error value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_a550031a0d3e8b60296e42ef5e87d7b7f}{create\+\_\+\+HYPRE\+\_\+\+Vector}} (const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&oomph\+\_\+vec, const \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$dist\+\_\+pt, HYPRE\+\_\+\+IJVector \&hypre\+\_\+ij\+\_\+vector, HYPRE\+\_\+\+Par\+Vector \&hypre\+\_\+par\+\_\+vector)
\begin{DoxyCompactList}\small\item\em Helper function to create a HYPRE\+\_\+\+IJVector and HYPRE\+\_\+\+Par\+Vector. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_aa56349b171f8dc464f527ab54a8b219a}{create\+\_\+\+HYPRE\+\_\+\+Vector}} (const \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$dist\+\_\+pt, HYPRE\+\_\+\+IJVector \&hypre\+\_\+ij\+\_\+vector, HYPRE\+\_\+\+Par\+Vector \&hypre\+\_\+par\+\_\+vector)
\begin{DoxyCompactList}\small\item\em Helper function to create a HYPRE\+\_\+\+IJVector and HYPRE\+\_\+\+Par\+Vector. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_a3c7d0df9c9c2ce939e071a16716d7734}{create\+\_\+\+HYPRE\+\_\+\+Matrix}} (\mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}} $\ast$oomph\+\_\+matrix, HYPRE\+\_\+\+IJMatrix \&hypre\+\_\+ij\+\_\+matrix, HYPRE\+\_\+\+Par\+CSRMatrix \&hypre\+\_\+par\+\_\+matrix, \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$dist\+\_\+pt)
\begin{DoxyCompactList}\small\item\em Helper function to create a serial HYPRE\+\_\+\+IJMatrix and HYPRE\+\_\+\+Par\+CSRMatrix from a \mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}} NOTE\+: dist\+\_\+pt is rebuilt to match the distribution of the hypre solver which is not necassarily the same as the oomph lib matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_ab0a885165f387f79bc30e19810d111d7}{euclid\+\_\+settings\+\_\+helper}} (const bool \&use\+\_\+block\+\_\+jacobi, const bool \&use\+\_\+row\+\_\+scaling, const bool \&use\+\_\+ilut, const int \&level, const double \&drop\+\_\+tol, const int \&print\+\_\+level, HYPRE\+\_\+\+Solver \&euclid\+\_\+object)
\begin{DoxyCompactList}\small\item\em Helper function to set Euclid options using a command line like array. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_aa3d3b58e30a8eba0adce2c335d2fc437}{AMG\+\_\+strength}} = 0.\+25
\begin{DoxyCompactList}\small\item\em Default for AMG strength (0.\+25 recommended for 2D problems; larger (0.\+5-\/0.\+75, say) for 3D. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_a8d34acec927aff8f150737afaec9651a}{AMG\+\_\+coarsening}} = 6
\begin{DoxyCompactList}\small\item\em Default AMG coarsening strategy. Coarsening types include\+: 0 = CLJP (parallel coarsening using independent sets) 1 = classical RS with no boundary treatment (not recommended in parallel) 3 = modified RS with 3rd pass to add C points on the boundaries 6 = Falgout (uses 1 then CLJP using interior coarse points as first independent set) 8 = PMIS (parallel coarsening using independent sets -\/ lower complexities than 0, maybe also slower convergence) 10= HMIS (one pass RS on each processor then PMIS on interior coarse points as first independent set) 11= One pass RS on each processor (not recommended) \end{DoxyCompactList}\item 
double \mbox{\hyperlink{namespaceoomph_1_1HypreHelpers_aa32196f0215efa229ced79ce65e3887d}{AMG\+\_\+truncation}} = 0.\+0
\begin{DoxyCompactList}\small\item\em AMG interpolation truncation factor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
///////////////////////////////////////////////////////////////////// 

Helper functions for use with the Hypre library.

///////////////////////////////////////////////////////////////////// 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_a65765f3019c585e17822f30423b52096}\label{namespaceoomph_1_1HypreHelpers_a65765f3019c585e17822f30423b52096}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!check\_HYPRE\_error\_flag@{check\_HYPRE\_error\_flag}}
\index{check\_HYPRE\_error\_flag@{check\_HYPRE\_error\_flag}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{check\_HYPRE\_error\_flag()}{check\_HYPRE\_error\_flag()}}
{\footnotesize\ttfamily int oomph\+::\+Hypre\+Helpers\+::check\+\_\+\+HYPRE\+\_\+error\+\_\+flag (\begin{DoxyParamCaption}\item[{std\+::ostringstream \&}]{message }\end{DoxyParamCaption})}



Helper function to check the Hypre error flag, return the message associated with any error, and reset the global error flag to zero. This function also returns the error value. 

Helper function to check the Hypre error flag, return the message associated with any error, and reset the error flag to zero. 

Definition at line 147 of file hypre\+\_\+solver.\+cc.



References hypre\+\_\+\+\_\+global\+\_\+error, and oomph\+::oomph\+\_\+info.



Referenced by oomph\+::\+Hypre\+Interface\+::hypre\+\_\+clean\+\_\+up\+\_\+memory(), oomph\+::\+Hypre\+Interface\+::hypre\+\_\+matrix\+\_\+setup(), oomph\+::\+Hypre\+Interface\+::hypre\+\_\+solve(), and oomph\+::\+Hypre\+Interface\+::hypre\+\_\+solver\+\_\+setup().

\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_a3c7d0df9c9c2ce939e071a16716d7734}\label{namespaceoomph_1_1HypreHelpers_a3c7d0df9c9c2ce939e071a16716d7734}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!create\_HYPRE\_Matrix@{create\_HYPRE\_Matrix}}
\index{create\_HYPRE\_Matrix@{create\_HYPRE\_Matrix}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{create\_HYPRE\_Matrix()}{create\_HYPRE\_Matrix()}}
{\footnotesize\ttfamily void oomph\+::\+Hypre\+Helpers\+::create\+\_\+\+HYPRE\+\_\+\+Matrix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}} $\ast$}]{oomph\+\_\+matrix,  }\item[{HYPRE\+\_\+\+IJMatrix \&}]{hypre\+\_\+ij\+\_\+matrix,  }\item[{HYPRE\+\_\+\+Par\+CSRMatrix \&}]{hypre\+\_\+par\+\_\+matrix,  }\item[{\mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$}]{dist\+\_\+pt }\end{DoxyParamCaption})}



Helper function to create a serial HYPRE\+\_\+\+IJMatrix and HYPRE\+\_\+\+Par\+CSRMatrix from a \mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}} NOTE\+: dist\+\_\+pt is rebuilt to match the distribution of the hypre solver which is not necassarily the same as the oomph lib matrix. 

Helper function to create a serial HYPRE\+\_\+\+IJMatrix and HYPRE\+\_\+\+Par\+CSRMatrix from a \mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}}. 

Definition at line 270 of file hypre\+\_\+solver.\+cc.



References oomph\+::\+Linear\+Algebra\+Distribution\+::build(), oomph\+::\+CRDouble\+Matrix\+::built(), oomph\+::\+CRDouble\+Matrix\+::column\+\_\+index(), oomph\+::\+Linear\+Algebra\+Distribution\+::communicator\+\_\+pt(), oomph\+::\+Linear\+Algebra\+Distribution\+::distributed(), oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::distributed(), oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::distribution\+\_\+pt(), oomph\+::\+Linear\+Algebra\+Distribution\+::first\+\_\+row(), i, oomph\+::\+MPI\+\_\+\+Helpers\+::mpi\+\_\+has\+\_\+been\+\_\+initialised(), oomph\+::\+CRDouble\+Matrix\+::ncol(), oomph\+::\+CRDouble\+Matrix\+::nrow(), oomph\+::\+Linear\+Algebra\+Distribution\+::nrow\+\_\+local(), oomph\+::\+CRDouble\+Matrix\+::row\+\_\+start(), and oomph\+::\+CRDouble\+Matrix\+::value().



Referenced by oomph\+::\+Hypre\+Interface\+::hypre\+\_\+matrix\+\_\+setup().

\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_a550031a0d3e8b60296e42ef5e87d7b7f}\label{namespaceoomph_1_1HypreHelpers_a550031a0d3e8b60296e42ef5e87d7b7f}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!create\_HYPRE\_Vector@{create\_HYPRE\_Vector}}
\index{create\_HYPRE\_Vector@{create\_HYPRE\_Vector}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{create\_HYPRE\_Vector()}{create\_HYPRE\_Vector()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void oomph\+::\+Hypre\+Helpers\+::create\+\_\+\+HYPRE\+\_\+\+Vector (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{oomph\+\_\+vec,  }\item[{const \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$}]{dist\+\_\+pt,  }\item[{HYPRE\+\_\+\+IJVector \&}]{hypre\+\_\+ij\+\_\+vector,  }\item[{HYPRE\+\_\+\+Par\+Vector \&}]{hypre\+\_\+par\+\_\+vector }\end{DoxyParamCaption})}



Helper function to create a HYPRE\+\_\+\+IJVector and HYPRE\+\_\+\+Par\+Vector. 


\begin{DoxyItemize}
\item If no MPI then serial vectors are created
\item If MPI and serial input vector then distributed hypre vectors are created
\item If MPI and distributed input vector the distributed output vectors are created. 
\end{DoxyItemize}

Definition at line 178 of file hypre\+\_\+solver.\+cc.



References oomph\+::\+Linear\+Algebra\+Distribution\+::communicator\+\_\+pt(), oomph\+::\+Linear\+Algebra\+Distribution\+::distributed(), oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::distributed(), oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::distribution\+\_\+pt(), oomph\+::\+Linear\+Algebra\+Distribution\+::first\+\_\+row(), i, oomph\+::\+Linear\+Algebra\+Distribution\+::nrow\+\_\+local(), and oomph\+::\+Double\+Vector\+::values\+\_\+pt().



Referenced by oomph\+::\+Hypre\+Interface\+::hypre\+\_\+solve(), and oomph\+::\+Hypre\+Interface\+::hypre\+\_\+solver\+\_\+setup().

\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_aa56349b171f8dc464f527ab54a8b219a}\label{namespaceoomph_1_1HypreHelpers_aa56349b171f8dc464f527ab54a8b219a}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!create\_HYPRE\_Vector@{create\_HYPRE\_Vector}}
\index{create\_HYPRE\_Vector@{create\_HYPRE\_Vector}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{create\_HYPRE\_Vector()}{create\_HYPRE\_Vector()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void oomph\+::\+Hypre\+Helpers\+::create\+\_\+\+HYPRE\+\_\+\+Vector (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$}]{dist\+\_\+pt,  }\item[{HYPRE\+\_\+\+IJVector \&}]{hypre\+\_\+ij\+\_\+vector,  }\item[{HYPRE\+\_\+\+Par\+Vector \&}]{hypre\+\_\+par\+\_\+vector }\end{DoxyParamCaption})}



Helper function to create a HYPRE\+\_\+\+IJVector and HYPRE\+\_\+\+Par\+Vector. 

Helper function to create an empty HYPRE\+\_\+\+IJVector and HYPRE\+\_\+\+Par\+Vector.


\begin{DoxyItemize}
\item If no MPI then serial vectors are created
\item If MPI and serial input vector then distributed hypre vectors are created
\item If MPI and distributed input vector the distributed output vectors are created.
\item If no MPI then serial vectors are created
\item If MPI and serial distribution then distributed hypre vectors are created
\item If MPI and distributed input distribution the distributed output vectors are created. 
\end{DoxyItemize}

Definition at line 240 of file hypre\+\_\+solver.\+cc.



References oomph\+::\+Linear\+Algebra\+Distribution\+::communicator\+\_\+pt(), oomph\+::\+Linear\+Algebra\+Distribution\+::first\+\_\+row(), and oomph\+::\+Linear\+Algebra\+Distribution\+::nrow\+\_\+local().

\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_ab0a885165f387f79bc30e19810d111d7}\label{namespaceoomph_1_1HypreHelpers_ab0a885165f387f79bc30e19810d111d7}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!euclid\_settings\_helper@{euclid\_settings\_helper}}
\index{euclid\_settings\_helper@{euclid\_settings\_helper}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{euclid\_settings\_helper()}{euclid\_settings\_helper()}}
{\footnotesize\ttfamily void oomph\+::\+Hypre\+Helpers\+::euclid\+\_\+settings\+\_\+helper (\begin{DoxyParamCaption}\item[{const bool \&}]{use\+\_\+block\+\_\+jacobi,  }\item[{const bool \&}]{use\+\_\+row\+\_\+scaling,  }\item[{const bool \&}]{use\+\_\+ilut,  }\item[{const int \&}]{level,  }\item[{const double \&}]{drop\+\_\+tol,  }\item[{const int \&}]{print\+\_\+level,  }\item[{HYPRE\+\_\+\+Solver \&}]{euclid\+\_\+object }\end{DoxyParamCaption})}



Helper function to set Euclid options using a command line like array. 



Definition at line 409 of file hypre\+\_\+solver.\+cc.



Referenced by oomph\+::\+Hypre\+Interface\+::hypre\+\_\+solver\+\_\+setup().



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_a8d34acec927aff8f150737afaec9651a}\label{namespaceoomph_1_1HypreHelpers_a8d34acec927aff8f150737afaec9651a}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!AMG\_coarsening@{AMG\_coarsening}}
\index{AMG\_coarsening@{AMG\_coarsening}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{AMG\_coarsening}{AMG\_coarsening}}
{\footnotesize\ttfamily unsigned oomph\+::\+Hypre\+Helpers\+::\+AMG\+\_\+coarsening = 6}



Default AMG coarsening strategy. Coarsening types include\+: 0 = CLJP (parallel coarsening using independent sets) 1 = classical RS with no boundary treatment (not recommended in parallel) 3 = modified RS with 3rd pass to add C points on the boundaries 6 = Falgout (uses 1 then CLJP using interior coarse points as first independent set) 8 = PMIS (parallel coarsening using independent sets -\/ lower complexities than 0, maybe also slower convergence) 10= HMIS (one pass RS on each processor then PMIS on interior coarse points as first independent set) 11= One pass RS on each processor (not recommended) 



Definition at line 134 of file hypre\+\_\+solver.\+cc.



Referenced by oomph\+::\+Hypre\+Interface\+::\+Hypre\+Interface().

\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_aa3d3b58e30a8eba0adce2c335d2fc437}\label{namespaceoomph_1_1HypreHelpers_aa3d3b58e30a8eba0adce2c335d2fc437}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!AMG\_strength@{AMG\_strength}}
\index{AMG\_strength@{AMG\_strength}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{AMG\_strength}{AMG\_strength}}
{\footnotesize\ttfamily double oomph\+::\+Hypre\+Helpers\+::\+AMG\+\_\+strength = 0.\+25}



Default for AMG strength (0.\+25 recommended for 2D problems; larger (0.\+5-\/0.\+75, say) for 3D. 



Definition at line 118 of file hypre\+\_\+solver.\+cc.



Referenced by oomph\+::\+Hypre\+Interface\+::\+Hypre\+Interface().

\mbox{\Hypertarget{namespaceoomph_1_1HypreHelpers_aa32196f0215efa229ced79ce65e3887d}\label{namespaceoomph_1_1HypreHelpers_aa32196f0215efa229ced79ce65e3887d}} 
\index{oomph::HypreHelpers@{oomph::HypreHelpers}!AMG\_truncation@{AMG\_truncation}}
\index{AMG\_truncation@{AMG\_truncation}!oomph::HypreHelpers@{oomph::HypreHelpers}}
\doxysubsubsection{\texorpdfstring{AMG\_truncation}{AMG\_truncation}}
{\footnotesize\ttfamily double oomph\+::\+Hypre\+Helpers\+::\+AMG\+\_\+truncation = 0.\+0}



AMG interpolation truncation factor. 



Definition at line 140 of file hypre\+\_\+solver.\+cc.



Referenced by oomph\+::\+Hypre\+Interface\+::\+Hypre\+Interface().

